<html>
    <head>
        <title>JS search</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css" integrity="sha512-iBBXm8fW90+nuLcSKlbmrPcLa0OT92xO1BIsZ+ywDWZCvqsWgccV3gFoRBv0z+8dLJgyAHIhR35VZc2oM/gI1w==" crossorigin="anonymous" />
        <link rel="stylesheet" href="css/style.css" type="text/css" />
        <script src="js/faker.js" defer></script>
        <script src="js/dexie.js" defer></script>
        <script src="js/underscore-umd-min.js" defer></script>
        <script src="js/dexie_test.js" type="module" defer></script>
    </head>
    <body>
        <div class="generate_cont">
            <form id="genForm">
                <div class="gen_group">
                    <label>Generate Records ( Default 100 records )</label>
                    <label class="sub-text">Note: Creating more than 1 million records may crash the browser. Since values are random, it will remove old and re-insert new data every time, which is not indicative of real world example. In real world case, once initial database is created every time new DB transaction takes place it will only update or insert new data and ignore other records. 
                        <br />
                        For example. Once you generate 10,000 records and then generate 100 records the html table will only show 100 table but in database there already is 10,000 records from before so, dexie.js will update the records with matching indexes and ignore 9,900 records after that. So the search query will be still querying through 10,000 records even if the html view has 100 table.  
                    </label>
                    <div class="bot-group">
                        <div class="grouped">
                            <input type="number" placeholder="No. of records." name="gen_num" id="gen_num" />
                            <button id="gen_btn" type="submit" style="margin-left: 0.5rem">Generate &nbsp;<i class="fas fa-server"></i></button>
                        </div>
                        <div class="grouped">
                            <div class="inner-group">
                                <div class="text-box">
                                    <span class="span1">No of records in the DB &nbsp;<i class="fas fa-database"></i></span>
                                    <span class="span2" id="record_num">&nbsp;&nbsp;</span>
                                </div>
                            </div>
                            <div class="inner-group" style="margin-left: 1rem">
                                <button id="clear_db" title="clear DB" type="button">Clear DB &nbsp; <i class="far fa-trash-alt"></i></button>
                            </div>
                        </div>
                    </div>
                </div>
            </form>
        </div>
        <hr />
        <div class="search_container">
            <form id="searchForm">
                <div class="search_group">
                    <label>Search By Submit</label>
                    <div class="prepend_btn">
                        <input type="text" placeholder="Search..." name="search" id="search" />
                        <button id="search_btn" type="submit"><i class="fas fa-search"></i></button>
                    </div>
                </div>
            </form>
            <button id="reset_search" title="Reset Search">Reset Search &nbsp; <i class="fas fa-search-minus"></i></button>
            <form id="searchKeyUpForm">
                <div class="search_group">
                    <label>Search By Key Up</label>
                    <label class="sub-text">Searches after the 3rd keyup. Press enter when input is empty to reset search.</label>
                    <div class="prepend_btn">
                        <input type="text" placeholder="Search..." name="search_keyup" id="search_keyup" />
                    </div>
                </div>
            </form>
        </div>
        <label class="sub-text">Note: Use console to view time taken for : database transaction(records insert), table create and search query.</label>
        <table id="test_table">
        </table>
    </body>
</html>
